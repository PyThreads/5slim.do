# Usa una imagen ligera de Node 21 con npm
FROM node:21-slim

# Establece el directorio de trabajo dentro del contenedor
WORKDIR /app

# Copia solo los archivos necesarios del directorio api
COPY ./api/package*.json ./

# Instala dependencias solo de producci칩n si est치s en producci칩n
RUN npm install --omit=dev

# Copia el resto de la aplicaci칩n
COPY ./api .

# Comando por defecto para iniciar la app
CMD ["npm", "start"]
